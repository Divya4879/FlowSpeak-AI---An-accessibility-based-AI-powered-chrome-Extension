<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <span class="icon">üéß</span>
        <h1>AI Reader</h1>
      </div>
      <div class="status" id="status">Ready to read</div>
    </header>

    <main>
      <!-- Playback Controls -->
      <section class="control-section">
        <div class="control-grid">
          <button id="play" class="btn primary" title="Start reading">
            <span class="btn-icon">‚ñ∂Ô∏è</span>
            <span>Play</span>
          </button>
          <button id="pause" class="btn" title="Pause reading">
            <span class="btn-icon">‚è∏Ô∏è</span>
            <span>Pause</span>
          </button>
          <button id="stop" class="btn" title="Stop reading">
            <span class="btn-icon">‚èπÔ∏è</span>
            <span>Stop</span>
          </button>
        </div>
      </section>

      <!-- Navigation -->
      <section class="control-section">
        <h3>Navigation</h3>
        <div class="control-grid">
          <button id="prevHeading" class="btn nav" title="Previous heading">
            <span class="btn-icon">‚¨ÜÔ∏è</span>
            <span>Prev Heading</span>
          </button>
          <button id="nextHeading" class="btn nav" title="Next heading">
            <span class="btn-icon">‚¨áÔ∏è</span>
            <span>Next Heading</span>
          </button>
        </div>
        <div class="control-grid">
          <button id="prevSection" class="btn nav" title="Previous section (DEV.to: H2/H3)">
            <span class="btn-icon">‚¨ÖÔ∏è</span>
            <span>Prev Section</span>
          </button>
          <button id="nextSection" class="btn nav" title="Next section (DEV.to: H2/H3)">
            <span class="btn-icon">‚û°Ô∏è</span>
            <span>Next Section</span>
          </button>
        </div>
      </section>

      <!-- Chapter Navigation (AO3) -->
      <section class="control-section chapter-section" id="chapterSection" style="display: none;">
        <h3>Chapters</h3>
        <div class="control-grid">
          <button id="prevChapter" class="btn chapter">
            <span class="btn-icon">üìñ</span>
            <span>Prev Chapter</span>
          </button>
          <button id="nextChapter" class="btn chapter">
            <span class="btn-icon">üìñ</span>
            <span>Next Chapter</span>
          </button>
        </div>
        
        <div class="chapter-controls">
          <div class="input-group">
            <input type="number" id="chapterInput" placeholder="Chapter #" min="1" class="chapter-input">
            <button id="jumpToChapter" class="btn small">Go</button>
          </div>
          
          <div class="input-group">
            <input type="text" id="sectionInput" placeholder="Section name..." class="chapter-input">
            <button id="jumpToSection" class="btn small">Find</button>
          </div>
          
          <select id="chapterDropdown" class="chapter-select">
            <option value="">Select Chapter...</option>
          </select>
        </div>
      </section>

      <!-- Speed Controls -->
      <section class="control-section">
        <h3>Speed & Volume</h3>
        <div class="voice-status" id="voiceStatus">Voice: Loading...</div>
        <div class="slider-group">
          <div class="slider-control">
            <label>Speed: <span id="speedValue">1.0x</span></label>
            <input type="range" id="speedSlider" min="0.5" max="2.5" step="0.1" value="1.0" class="slider">
          </div>
          <div class="slider-control">
            <label>Volume: <span id="volumeValue">100%</span></label>
            <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1.0" class="slider">
          </div>
        </div>
      </section>

      <!-- AI Features -->
      <section class="control-section ai-section" id="aiSection" style="display: none;">
        <h3>AI Assistant</h3>
        <div class="control-grid">
          <button id="testApi" class="btn ai" title="Test API connection">
            <span class="btn-icon">üîß</span>
            <span>Test API</span>
          </button>
          <button id="explainSelected" class="btn ai" title="Explain selected text">
            <span class="btn-icon">ü§ñ</span>
            <span>Explain Selected</span>
          </button>
        </div>
        <div class="control-grid">
          <button id="summarizeSelected" class="btn ai" title="Summarize selected text">
            <span class="btn-icon">üìù</span>
            <span>Summarize Selected</span>
          </button>
          <button id="siteSummary" class="btn ai" title="Full site summary">
            <span class="btn-icon">üìä</span>
            <span>Site Summary</span>
          </button>
        </div>
        <div id="aiResult" class="ai-result" style="display: none;"></div>
      </section>
    </main>

    <footer>
      <button id="settings" class="btn-link">‚öôÔ∏è Settings</button>
      <div class="site-info" id="siteInfo"></div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
